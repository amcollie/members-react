(this.webpackJsonpmembers=this.webpackJsonpmembers||[]).push([[0],{110:function(e,t,r){e.exports=r(236)},236:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(30),i=r.n(c),m=r(9),o=r(6),l=r(106),s=r(7),u=r(20),b=r(21),d=r(22),p=r(23),E=r(17),f=r.n(E),h=r(34),v=r(107),M=r.n(v).a.create({baseURL:"/members"}),y=r(11),O=Object(y.a)(),j=function fetchMember(e){return function(){var t=Object(h.a)(f.a.mark((function _callee3(t){var r;return f.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M.get("/".concat(e));case 2:r=a.sent,t({type:"FETCH_MEMBER",payload:r.data});case 4:case"end":return a.stop()}}),_callee3)})));return function(e){return t.apply(this,arguments)}}()},C=r(238),_=r(237),k=r(13),N=function(e){Object(p.a)(MemberForm,e);var t=Object(d.a)(MemberForm);function MemberForm(){var e;Object(u.a)(this,MemberForm);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderInput=function(t){var r=t.input,a=t.label,c=t.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,a),n.a.createElement("input",Object.assign({},r,{autoComplete:"off"})),e.renderError(c))},e.renderCheckbox=function(e){var t=e.input,r=e.label;return t.value=t.checked.toString(),console.log(t),n.a.createElement("div",{className:"ui checkbox"},n.a.createElement("input",Object.assign({type:"checkbox"},t)),n.a.createElement("label",null,r))},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(b.a)(MemberForm,[{key:"renderError",value:function renderError(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},t))}},{key:"render",value:function render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},n.a.createElement("div",{className:"field"},n.a.createElement(C.a,{name:"email",type:"text",component:this.renderInput,label:"Enter Email"})),n.a.createElement("div",{className:"field"},n.a.createElement(C.a,{type:"checkbox",name:"is_registered",component:this.renderCheckbox,label:"Regisered"})),n.a.createElement("button",{className:"ui button primary"},"Submit"),n.a.createElement(k.a,{to:"/",className:"ui button"},"Cancel"))}}]),MemberForm}(a.Component),g=Object(_.a)({form:"memberForm",validate:function validate(e){var t={};return e.email||(t.email="You must enter an email"),t}})(N),D=function(e){Object(p.a)(MemberCreate,e);var t=Object(d.a)(MemberCreate);function MemberCreate(){var e;Object(u.a)(this,MemberCreate);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.createMember(t)},e}return Object(b.a)(MemberCreate,[{key:"render",value:function render(){return n.a.createElement("div",null,n.a.createElement("h3",null,"Enter Member"),n.a.createElement(g,{onSubmit:this.onSubmit}))}}]),MemberCreate}(a.Component),w=Object(m.b)(null,{createMember:function createMember(e){return function(){var t=Object(h.a)(f.a.mark((function _callee(t){var r;return f.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M.post("/",e);case 2:r=a.sent,t({type:"CREATE_MEMEBER",payload:r.data}),O.push("/");case 5:case"end":return a.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}()}})(D),S=function Modal(e){var t=e.title,r=e.content,a=e.actions,c=e.onDismiss;return i.a.createPortal(n.a.createElement("div",{onClick:c,className:"ui dimmer modals visible active"},n.a.createElement("div",{onClick:function onClick(e){return e.stopPropagation()},className:"ui standard modal visible active"},n.a.createElement("div",{className:"header"},t),n.a.createElement("div",{className:"content"},r),n.a.createElement("div",{className:"actions"},a))),document.querySelector("#modal"))},x=function(e){Object(p.a)(MemberDelete,e);var t=Object(d.a)(MemberDelete);function MemberDelete(){return Object(u.a)(this,MemberDelete),t.apply(this,arguments)}return Object(b.a)(MemberDelete,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchMember(this.props.match.params.id)}},{key:"renderActions",value:function renderActions(){var e=this,t=this.props.match.params.id;return n.a.createElement(a.Fragment,null,n.a.createElement("button",{onClick:function onClick(){return e.props.deleteMember(t)},className:"ui button negative"},"Delete"),n.a.createElement(k.a,{to:"/",className:"ui button"},"Cancel"))}},{key:"renderContent",value:function renderContent(){return this.props.member?"Are you sure you want to delete the member with email address ".concat(this.props.member.email,"?"):"Are you sure you want to delete this member?"}},{key:"render",value:function render(){return n.a.createElement(S,{title:"Delete Member",content:this.renderContent(),actions:this.renderActions(),onDismiss:function onDismiss(){return O.push("/")}})}}]),MemberDelete}(a.Component),R=Object(m.b)((function mapStateToProps(e,t){return{member:e.members[t.match.params.id]}}),{fetchMember:j,deleteMember:function deleteMember(e){return function(){var t=Object(h.a)(f.a.mark((function _callee4(t){return f.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M.delete("/".concat(e));case 2:t({type:"DELETE_MEMBER",payload:e}),O.push("/");case 4:case"end":return r.stop()}}),_callee4)})));return function(e){return t.apply(this,arguments)}}()}})(x),A=r(41),L=r.n(A),T=function(e){Object(p.a)(MemberEdit,e);var t=Object(d.a)(MemberEdit);function MemberEdit(){var e;Object(u.a)(this,MemberEdit);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.editMember(e.props.match.params.id,t)},e}return Object(b.a)(MemberEdit,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchMember(this.props.match.params.id)}},{key:"render",value:function render(){return this.props.member?n.a.createElement("div",null,n.a.createElement("h3",null,"Edit Member"),n.a.createElement(g,{initialValues:L.a.pick(this.props.member,"email","is_registered"),onSubmit:this.onSubmit})):n.a.createElement("div",null,"Loading...")}}]),MemberEdit}(a.Component),F=Object(m.b)((function mapStateToProps(e,t){return{member:e.members[t.match.params.id]}}),{fetchMember:j,editMember:function editMember(e,t){return function(){var r=Object(h.a)(f.a.mark((function _callee5(r){var a;return f.a.wrap((function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.put("/".concat(e),t);case 2:a=n.sent,r({type:"EDIT_MEMBER",payload:a.data}),O.push("/");case 5:case"end":return n.stop()}}),_callee5)})));return function(e){return r.apply(this,arguments)}}()}})(T),B=function(e){Object(p.a)(MemberList,e);var t=Object(d.a)(MemberList);function MemberList(){return Object(u.a)(this,MemberList),t.apply(this,arguments)}return Object(b.a)(MemberList,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchMembers()}},{key:"renderAdmin",value:function renderAdmin(e){return n.a.createElement("div",{className:"right floated content"},n.a.createElement(k.a,{to:"/members/edit/".concat(e.id),className:"ui button primary"},"Edit"),n.a.createElement(k.a,{to:"/members/delete/".concat(e.id),className:"ui button negative"},"Delete"))}},{key:"renderList",value:function renderList(){var e=this;return this.props.members.map((function(t){return n.a.createElement("div",{className:"item",key:t.id},e.renderAdmin(t),n.a.createElement("div",{className:"content"},n.a.createElement(k.a,{to:"/members/edit/".concat(t.id),className:"header"},t.email),n.a.createElement("div",{className:"description"},t.is_registered?"Registered":"Not Registered")))}))}},{key:"renderCreate",value:function renderCreate(){return n.a.createElement("div",{style:{textAlign:"right"}},n.a.createElement(k.a,{to:"/members/new",className:"ui button primary"},"Create Member"))}},{key:"render",value:function render(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Members List"),n.a.createElement("div",{className:"ui celled list"},this.renderList()),this.renderCreate())}}]),MemberList}(a.Component),P=Object(m.b)((function mapStateToProps(e){return{members:Object.values(e.members)}}),{fetchMembers:function fetchMembers(){return function(){var e=Object(h.a)(f.a.mark((function _callee2(e){var t;return f.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M.get("/");case 2:t=r.sent,e({type:"FETCH_MEMBERS",payload:t.data});case 4:case"end":return r.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}()}})(B),H=function Header(){return n.a.createElement("div",{className:"ui secondary pointing menu"},n.a.createElement(k.a,{to:"/",className:"item"},"Member"),n.a.createElement("div",{className:"right menu"},n.a.createElement(k.a,{to:"/",className:"item"},"All Members")))},App=function(){return n.a.createElement("div",{className:"ui container"},n.a.createElement(s.b,{history:O},n.a.createElement(a.Fragment,null,n.a.createElement(H,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",exact:!0,component:P}),n.a.createElement(s.a,{path:"/members/new",exact:!0,component:w}),n.a.createElement(s.a,{path:"/members/edit/:id",exact:!0,component:F}),n.a.createElement(s.a,{path:"/members/delete/:id",exact:!0,component:R})))))},I=r(239),$=r(53),q=r(74),J=Object(o.c)({form:I.a,members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MEMBER":case"CREATE_MEMEBER":case"EDIT_MEMBER":return Object(q.a)({},e,Object($.a)({},t.payload.id,t.payload));case"DELETE_MEMBER":return L.a.omit(t.payload);case"FETCH_MEMBERS":return Object(q.a)({},e,{},L.a.mapKeys(t.payload,"id"));default:return e}}}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,V=Object(o.e)(J,U(Object(o.a)(l.a)));i.a.render(n.a.createElement(m.a,{store:V},n.a.createElement(App,null)),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.8a2977a7.chunk.js.map