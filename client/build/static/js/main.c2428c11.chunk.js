(this.webpackJsonpmembers=this.webpackJsonpmembers||[]).push([[0],{110:function(e,t,a){e.exports=a(234)},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),i=a.n(c),o=a(9),s=a(6),m=a(106),u=a(7),l=a(20),p=a(21),d=a(22),b=a(23),E=a(17),f=a.n(E),h=a(34),v=a(107),y=a.n(v).a.create({baseURL:"/members"}),O=a(11),M=Object(O.a)(),j=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/".concat(e));case 2:n=t.sent,a({type:"FETCH_MEMBER",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=a(236),k=a(235),g=a(13),C=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderInput=function(t){var a=t.input,n=t.label,c=t.meta,i="field ".concat(c.error&&c.touched?"error":"");return r.a.createElement("div",{className:i},r.a.createElement("label",null,n),r.a.createElement("input",Object.assign({},a,{autoComplete:"off"})),e.renderError(c))},e.renderCheckbox=function(e){var t=e.input,a=e.label;return t.value=t.checked.toString(),console.log(t),r.a.createElement("div",{className:"ui checkbox"},r.a.createElement("input",Object.assign({type:"checkbox"},t)),r.a.createElement("label",null,a))},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(p.a)(a,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},r.a.createElement("div",{className:"field"},r.a.createElement(N.a,{name:"email",type:"text",component:this.renderInput,label:"Enter Email"})),r.a.createElement("div",{className:"field"},r.a.createElement(N.a,{type:"checkbox",name:"is_registered",component:this.renderCheckbox,label:"Regisered"})),r.a.createElement("button",{className:"ui button primary"},"Submit"),r.a.createElement(g.a,{to:"/",className:"ui button"},"Cancel"))}}]),a}(n.Component),w=Object(k.a)({form:"memberForm",validate:function(e){var t={};return e.email||(t.email="You must enter an email"),t}})(C),x=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.createMember(t)},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Enter Member"),r.a.createElement(w,{onSubmit:this.onSubmit}))}}]),a}(n.Component),S=Object(o.b)(null,{createMember:function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.post("/",e);case 2:n=t.sent,a({type:"CREATE_MEMEBER",payload:n.data}),M.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(x),_=function(e){var t=e.title,a=e.content,n=e.actions,c=e.onDismiss;return i.a.createPortal(r.a.createElement("div",{onClick:c,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},t),r.a.createElement("div",{className:"content"},a),r.a.createElement("div",{className:"actions"},n))),document.querySelector("#modal"))},R=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMember(this.props.match.params.id)}},{key:"renderActions",value:function(){var e=this,t=this.props.match.params.id;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return e.props.deleteMember(t)},className:"ui button negative"},"Delete"),r.a.createElement(g.a,{to:"/",className:"ui button"},"Cancel"))}},{key:"renderContent",value:function(){return this.props.member?"Are you sure you want to delete the member with email address ".concat(this.props.member.email,"?"):"Are you sure you want to delete this member?"}},{key:"render",value:function(){return r.a.createElement(_,{title:"Delete Member",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return M.push("/")}})}}]),a}(n.Component),D=Object(o.b)((function(e,t){return{member:e.members[t.match.params.id]}}),{fetchMember:j,deleteMember:function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.delete("/".concat(e));case 2:a({type:"DELETE_MEMBER",payload:e}),M.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(R),A=a(41),T=a.n(A),B=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.editMember(e.props.match.params.id,t)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMember(this.props.match.params.id)}},{key:"render",value:function(){return this.props.member?r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Member"),r.a.createElement(w,{initialValues:T.a.pick(this.props.member,"email","is_registered"),onSubmit:this.onSubmit})):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),L=Object(o.b)((function(e,t){return{member:e.members[t.match.params.id]}}),{fetchMember:j,editMember:function(e,t){return function(){var a=Object(h.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.put("/".concat(e),t);case 2:r=a.sent,n({type:"EDIT_MEMBER",payload:r.data}),M.push("/");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(B),F=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMembers()}},{key:"renderAdmin",value:function(e){return r.a.createElement("div",{className:"right floated content"},r.a.createElement(g.a,{to:"/members/edit/".concat(e.id),className:"ui button primary"},"Edit"),r.a.createElement(g.a,{to:"/members/delete/".concat(e.id),className:"ui button negative"},"Delete"))}},{key:"renderList",value:function(){var e=this;return this.props.members.map((function(t){return r.a.createElement("div",{className:"item",key:t.id},e.renderAdmin(t),r.a.createElement("div",{className:"content"},r.a.createElement(g.a,{to:"/members/edit/".concat(t.id),className:"header"},t.email),r.a.createElement("div",{className:"description"},t.is_registered?"Registered":"Not Registered")))}))}},{key:"renderCreate",value:function(){return r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(g.a,{to:"/members/new",className:"ui button primary"},"Create Member"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Members List"),r.a.createElement("div",{className:"ui celled list"},this.renderList()),this.renderCreate())}}]),a}(n.Component),I=Object(o.b)((function(e){return{members:Object.values(e.members)}}),{fetchMembers:function(){return function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/");case 2:a=e.sent,t({type:"FETCH_MEMBERS",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(F),H=function(){return r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement(g.a,{to:"/",className:"item"},"Member"),r.a.createElement("div",{className:"right menu"},r.a.createElement(g.a,{to:"/",className:"item"},"All Members")))},P=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(u.b,{history:M},r.a.createElement(n.Fragment,null,r.a.createElement(H,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:I}),r.a.createElement(u.a,{path:"/members/new",exact:!0,component:S}),r.a.createElement(u.a,{path:"/members/edit/:id",exact:!0,component:L}),r.a.createElement(u.a,{path:"/members/delete/:id",exact:!0,component:D})))))},q=a(237),J=a(53),U=a(74),V=Object(s.c)({form:q.a,members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MEMBER":case"CREATE_MEMEBER":case"EDIT_MEMBER":return Object(U.a)({},e,Object(J.a)({},t.payload.id,t.payload));case"DELETE_MEMBER":return T.a.omit(t.payload);case"FETCH_MEMBERS":return Object(U.a)({},e,{},T.a.mapKeys(t.payload,"id"));default:return e}}}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,K=Object(s.e)(V,X(Object(s.a)(m.a)));i.a.render(r.a.createElement(o.a,{store:K},r.a.createElement(P,null)),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.c2428c11.chunk.js.map