{"version":3,"sources":["apis/members.js","history.js","actions/index.js","types/index.js","components/members/MemberForm.js","components/members/MemberCreate.js","components/Modal.js","components/members/MemberDelete.js","components/members/MemberEdit.js","components/members/MemberList.js","components/Header.js","components/App.js","reducers/index.js","reducers/memberReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchMember","id","dispatch","a","members","get","response","type","payload","data","MemberForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","renderCheckbox","value","checked","toString","console","log","onSubmit","formValues","props","this","handleSubmit","Field","name","component","to","Component","reduxForm","form","validate","errors","email","MemberCreate","createMember","connect","post","history","push","Modal","title","content","actions","onDismiss","ReactDOM","createPortal","onClick","e","stopPropagation","document","querySelector","MemberDelete","match","params","deleteMember","member","renderContent","renderActions","state","ownProps","delete","MemberEdit","editMember","initialValues","_","pick","put","MemberList","fetchMembers","map","key","renderAdmin","is_registered","style","textAlign","renderList","renderCreate","Object","values","Header","path","exact","combineReducers","formReducer","action","omit","mapKeys","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","App"],"mappings":"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","file":"static/js/main.c2428c11.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n    baseURL: '/members'\n});","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","import members from '../apis/members';\nimport history from '../history';\n\nimport {\n    CREATE_MEMBER,\n    FETCH_MEMBERS,\n    FETCH_MEMBER,\n    EDIT_MEMBER,\n    DELETE_MEMBER\n} from '../types';\n\nexport const createMember = formValues => async dispatch => {\n    const response = await members.post('/', formValues );\n\n    dispatch({ type: CREATE_MEMBER, payload: response.data });\n\n    history.push('/');\n};\n\nexport const fetchMembers = () => async dispatch => {\n    const response = await members.get('/');\n\n    dispatch({ type: FETCH_MEMBERS, payload: response.data });\n};\n\nexport const fetchMember = id => async dispatch => {\n    const response = await members.get(`/${id}`);\n\n    dispatch({ type: FETCH_MEMBER, payload: response.data });\n};\n\nexport const deleteMember = id => async dispatch => {\n    await members.delete(`/${id}`);\n\n    dispatch({ type: DELETE_MEMBER, payload: id });\n\n    history.push('/');\n};\n\nexport const editMember = (id, formValues) => async dispatch => {\n    const response = await members.put(`/${id}`, formValues);\n\n    dispatch({ type: EDIT_MEMBER, payload: response.data });\n\n    history.push('/');\n};\n","export const CREATE_MEMBER = 'CREATE_MEMEBER';\nexport const FETCH_MEMBERS = 'FETCH_MEMBERS';\nexport const FETCH_MEMBER = 'FETCH_MEMBER';\nexport const EDIT_MEMBER = 'EDIT_MEMBER';\nexport const DELETE_MEMBER = 'DELETE_MEMBER';","import React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Link } from 'react-router-dom';\n\nclass MemberForm extends Component {\n    renderError ({ error, touched }) {\n        if (touched && error) {\n            return (\n                <div className=\"ui error message\">\n                    <div className=\"header\">{error}</div>\n                </div>\n            );\n        }\n    };\n\n    renderInput = ({ input, label, meta }) => {\n        const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\n\n        return (\n            <div className={className}>\n                <label>{label}</label>\n                <input {...input} autoComplete=\"off\" />\n\n                {this.renderError(meta)}\n            </div>\n        );\n    };\n\n    renderCheckbox= ({ input, label }) => {\n        input.value = input.checked.toString();\n        console.log(input)\n        return (\n            <div className=\"ui checkbox\">\n                <input type=\"checkbox\" { ...input } />\n                <label>{label}</label>\n            </div>\n        );\n    };\n\n    onSubmit = formValues => {\n        this.props.onSubmit(formValues);\n    }\n    render() {\n        return (\n            <form \n                onSubmit={this.props.handleSubmit(this.onSubmit)}\n                className=\"ui form error\"\n            >\n                <div className=\"field\">\n                    <Field name=\"email\" type=\"text\" component={this.renderInput} label=\"Enter Email\" />\n                </div>\n                <div className=\"field\">\n                    <Field type=\"checkbox\" name=\"is_registered\" component={this.renderCheckbox} label=\"Regisered\" />\n                </div>\n                <button className=\"ui button primary\">Submit</button>\n                <Link to=\"/\" className=\"ui button\">Cancel</Link>\n            </form>\n        );\n    }\n}\n\nconst validate = formValues => {\n    const errors = {};\n    if (!formValues.email) {\n        errors.email = \"You must enter an email\";\n    }\n\n    return errors;\n};\n\nexport default reduxForm({ form: 'memberForm', validate })(MemberForm);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { createMember } from '../../actions';\nimport MemberForm from './MemberForm';\n\nclass MemberCreate extends Component {\n    onSubmit = formValues => {\n        this.props.createMember(formValues);\n    };\n\n    render() {\n        return (\n            <div>\n                <h3>Enter Member</h3>\n                <MemberForm onSubmit={this.onSubmit} />\n            </div>\n        );\n    }\n}\n\nexport default connect(null, { createMember })(MemberCreate);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = ({ title, content, actions, onDismiss }) => {\n    return ReactDOM.createPortal(\n        <div onClick={onDismiss} className=\"ui dimmer modals visible active\">\n            <div onClick={e => e.stopPropagation()} className=\"ui standard modal visible active\">\n                <div className=\"header\">{title}</div>\n                <div className=\"content\">{content}</div>\n                <div className=\"actions\">\n                    {actions}\n                </div>\n            </div>\n        </div>,\n        document.querySelector('#modal')\n    );\n\n};\n\nexport default Modal;","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Modal from '../Modal';\nimport history from '../../history';\nimport { fetchMember, deleteMember } from '../../actions';\n\n\nclass MemberDelete extends Component {\n    componentDidMount() {\n        this.props.fetchMember(this.props.match.params.id);\n    }\n\n    renderActions() {\n        const { id } = this.props.match.params;\n\n        return (\n            <Fragment>\n                <button onClick={() => this.props.deleteMember(id)} className=\"ui button negative\">Delete</button>\n                <Link to=\"/\" className=\"ui button\">Cancel</Link>\n            </Fragment>\n        );\n    }\n\n    renderContent() {\n        if (!this.props.member) {\n            return \"Are you sure you want to delete this member?\";\n        }\n\n        return `Are you sure you want to delete the member with email address ${this.props.member.email}?`;\n    }\n\n    render() {\n        return (\n            <Modal \n                title = \"Delete Member\"\n                content = {this.renderContent()}\n                actions = {this.renderActions()}\n                onDismiss = {() => history.push('/')}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return { member: state.members[ownProps.match.params.id]}\n};\n\nexport default connect(mapStateToProps, { fetchMember, deleteMember })(MemberDelete);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { fetchMember, editMember } from '../../actions';\nimport MemberForm from './MemberForm';\n\nclass MemberEdit extends Component {\n    componentDidMount() {\n        this.props.fetchMember(this.props.match.params.id);\n    }\n\n    onSubmit = (formValues) => {\n        this.props.editMember(this.props.match.params.id, formValues);\n    };\n\n    render() {\n        if (!this.props.member) return <div>Loading...</div>;\n\n        return (\n            <div>\n                <h3>Edit Member</h3>\n                <MemberForm \n                    initialValues={ _.pick(this.props.member, 'email', 'is_registered')}\n                    onSubmit={this.onSubmit} \n                />\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {member: state.members[ownProps.match.params.id]}\n};\n\nexport default connect(mapStateToProps, { fetchMember, editMember })(MemberEdit);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchMembers } from '../../actions';\n\nclass MemberList extends Component {\n    componentDidMount() {\n        this.props.fetchMembers();\n    }\n\n    renderAdmin(member) {\n        return (\n            <div className=\"right floated content\">\n                <Link to={`/members/edit/${member.id}`} className=\"ui button primary\">\n                    Edit\n                </Link>\n                <Link to={`/members/delete/${member.id}`} className=\"ui button negative\">\n                    Delete\n                </Link>\n            </div>\n        );\n    }\n\n    renderList() {\n        return this.props.members.map(member => {\n            return (\n                <div className=\"item\" key={member.id}>\n                    {this.renderAdmin(member)}\n                    <div className=\"content\">\n                        <Link to={`/members/edit/${member.id}`} className=\"header\">{member.email}</Link>\n                        <div className=\"description\">{member.is_registered ? \"Registered\" : \"Not Registered\"}</div>\n                    </div>\n                </div>\n            );\n        });\n    }\n\n    renderCreate() {\n        return (\n            <div style={{ textAlign: 'right' }}>\n                <Link to=\"/members/new\" className=\"ui button primary\">\n                    Create Member\n                </Link>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div>\n            <h2>Members List</h2>\n                <div className=\"ui celled list\">{this.renderList()}</div>\n                {this.renderCreate()}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return { \n        members: Object.values(state.members)\n    };\n};\n\nexport default connect(mapStateToProps, { fetchMembers })(MemberList);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n    return (\n        <div className=\"ui secondary pointing menu\">\n            <Link to=\"/\" className=\"item\">Member</Link>\n            <div className=\"right menu\">\n                <Link to=\"/\" className=\"item\">All Members</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Header;","import React, { Fragment } from 'react'\nimport { Router, Route, Switch } from 'react-router-dom';\nimport MemberCreate from './members/MemberCreate';\nimport MemberDelete from './members/MemberDelete';\nimport MemberEdit from './members/MemberEdit';\nimport MemberList from './members/MemberList';\nimport Header from './Header';\nimport history from '../history';\n\nexport default () => {\n    return (\n    <div className=\"ui container\">\n        <Router history={history}>\n            <Fragment>\n                <Header />\n                <Switch>\n                    <Route path='/' exact component={MemberList} />\n                    <Route path=\"/members/new\" exact component={MemberCreate} />\n                    <Route path=\"/members/edit/:id\" exact component={MemberEdit} />\n                    <Route path=\"/members/delete/:id\" exact component={MemberDelete} />\n                </Switch>\n            </Fragment>\n        </Router>\n    </div>);\n};","import { combineReducers } from 'redux';\nimport {reducer as formReducer } from 'redux-form';\n\nimport memberReducer from './memberReducer';\n\nexport default combineReducers({\n    form: formReducer,\n    members: memberReducer\n});","import _ from 'lodash';\nimport {\n    CREATE_MEMBER,\n    FETCH_MEMBERS,\n    FETCH_MEMBER,\n    EDIT_MEMBER,\n    DELETE_MEMBER\n} from '../types';\n\nexport default (state = {}, action) => {\n    switch(action.type) {\n        case FETCH_MEMBER:\n        case CREATE_MEMBER:\n        case EDIT_MEMBER:\n            return { ...state, [action.payload.id]: action.payload };\n        case DELETE_MEMBER:\n            return _.omit(action.payload);\n        case FETCH_MEMBERS:\n            return { ...state, ..._.mapKeys(action.payload, 'id')};\n        default:\n            return state;\n    }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(reduxThunk)\n));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.querySelector('#root')\n);"],"sourceRoot":""}